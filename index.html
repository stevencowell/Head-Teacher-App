<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>WWHS Head Teacher Super App</title>
    <link rel="stylesheet" href="./public/styles.css" />
  </head>
  <body>
    <header class="app-header">
      <div class="header-content">
        <div class="branding">
          <p class="eyebrow">Matrix control center</p>
          <h1>WWHS Head Teacher Super App</h1>
          <p class="subtitle">
            Balance timetables, surface files and keep planning momentum with a calm, tactile control
            centre for TAS leadership.
          </p>
        </div>
        <div class="metrics-grid" role="list">
          <article class="metric-card" role="listitem">
            <span class="metric-label">Total subjects</span>
            <span class="metric-value" id="metric-total-subjects">0</span>
          </article>
          <article class="metric-card" role="listitem">
            <span class="metric-label">Allocated subjects</span>
            <span class="metric-value" id="metric-allocated">0</span>
          </article>
          <article class="metric-card" role="listitem">
            <span class="metric-label">Pinned allocation</span>
            <span class="metric-value" id="metric-pinned">0</span>
          </article>
          <article class="metric-card metric-progress" role="listitem">
            <span class="metric-label">Allocation progress</span>
            <div class="progress-indicator" aria-hidden="true">
              <svg viewBox="0 0 36 36" role="presentation">
                <path
                  class="progress-track"
                  d="M18 2.0845a15.9155 15.9155 0 1 1 0 31.831A15.9155 15.9155 0 1 1 18 2.0845"
                ></path>
                <path
                  class="progress-fill"
                  id="metric-progress-path"
                  stroke-dasharray="0, 100"
                  d="M18 2.0845a15.9155 15.9155 0 1 1 0 31.831A15.9155 15.9155 0 1 1 18 2.0845"
                ></path>
              </svg>
              <span class="progress-value" id="metric-progress">0%</span>
            </div>
          </article>
        </div>
      </div>
      <div class="search-controls">
        <label class="search-field">
          <span class="sr-only">Search resources</span>
          <input
            id="search-input"
            type="search"
            placeholder="Search by title, description or link label..."
            autocomplete="off"
          />
          <button id="clear-search" class="ghost" aria-label="Clear search">×</button>
        </label>
        <div class="filter-row">
          <label for="status-filter">Updated year</label>
          <select id="status-filter">
            <option value="all">All years</option>
          </select>
          <label for="category-filter">Category</label>
          <select id="category-filter">
            <option value="all">All categories</option>
          </select>
          <label class="toggle">
            <input type="checkbox" id="pinned-toggle" />
            <span>Show pinned only</span>
          </label>
        </div>
      </div>
    </header>

    <section class="legend-panel" aria-label="Legend and quick reference">
      <header class="legend-header">
        <h2>Legend &amp; Quick Reference</h2>
        <p>
          Every colour represents a different allocation state. Use this guide while dragging subjects
          or pinning key sections so you always know what is ready, what needs review and what is locked
          in for term planning.
        </p>
      </header>
      <div class="legend-grid" role="list">
        <article class="legend-card available" role="listitem">
          <span class="legend-status">Available subject</span>
          <p>Open sections with resources ready to deploy. Tap the star to secure them for quick access.</p>
        </article>
        <article class="legend-card allocated" role="listitem">
          <span class="legend-status">Allocated subject</span>
          <p>
            Sections that already have detailed plans and linked assets. Review the links to brief
            relieving teachers.
          </p>
        </article>
        <article class="legend-card pinned" role="listitem">
          <span class="legend-status">Pinned spotlight</span>
          <p>
            Your personal shortlist. Toggle “Show pinned only” in the control hub when you need a rapid
            briefing set.
          </p>
        </article>
        <article class="legend-card warning" role="listitem">
          <span class="legend-status">Room clash</span>
          <p>
            Check any sections marked with clashing resources or outdated files before signing off the
            matrix.
          </p>
        </article>
      </div>
    </section>

    <section class="app-intro" aria-label="How to use this hub">
      <div class="intro-highlight">
        <p>
          Welcome to the TAS command centre. Use the tools below to surface the exact resource you need,
          then keep favourites one tap away for busy mornings.
        </p>
      </div>
      <div class="intro-grid" role="list">
        <article class="intro-card" role="listitem">
          <h2>1. Search, filter &amp; focus</h2>
          <p>
            Type a keyword, narrow by update year or jump straight to a faculty area. Combine filters to
            instantly trim the view to the essentials.
          </p>
        </article>
        <article class="intro-card" role="listitem">
          <h2>2. Scan the overviews</h2>
          <p>
            Each category now opens with a plain-language overview so you can confirm you are in the right
            place before diving into the detailed links.
          </p>
        </article>
        <article class="intro-card" role="listitem">
          <h2>3. Pin your quick wins</h2>
          <p>
            Tap the star on any section to create a personalised shortlist. Toggle “Show pinned only” when
            you need a streamlined view for relief staff or urgent follow-up.
          </p>
        </article>
        <article class="intro-card" role="listitem">
          <h2>Support &amp; sharing</h2>
          <p>
            This page is designed to be sent directly to any staff member. Share the link with confidence—
            the layout is touch-friendly, keyboard accessible and works beautifully on large displays.
          </p>
        </article>
      </div>
    </section>

    <main class="app-layout">
      <aside class="sidebar" aria-label="Quick category navigation">
        <section class="sidebar-block">
          <h2>Control hub</h2>
          <p>
            Set your filters, browse categories and pin live sections. Everything updates instantly as
            you fine-tune the timetable.
          </p>
        </section>
        <section class="sidebar-block start-here">
          <h3>Start here</h3>
          <p>Download the latest TAS overview or share this hub for fast onboarding.</p>
          <a class="primary-button" href="data/resources.json" download>Download data snapshot</a>
        </section>
        <h2>Categories</h2>
        <nav id="category-nav"></nav>
        <section class="insights">
          <h3>Live insights</h3>
          <dl id="insights"></dl>
        </section>
      </aside>
      <section class="content" id="content" aria-live="polite"></section>
    </main>

    <button class="scroll-top" id="scroll-top" aria-label="Scroll to top">↑</button>

    <template id="category-summary-template">
      <article class="category-card">
        <header>
          <h2></h2>
          <span class="meta"></span>
        </header>
        <p class="description"></p>
        <div class="links"></div>
      </article>
    </template>

    <script src="./public/app.js" type="module"></script>
  </body>
</html>
